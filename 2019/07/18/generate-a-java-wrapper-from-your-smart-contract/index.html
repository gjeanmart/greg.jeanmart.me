<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="In this article, we discover how to generate a Java Wrapper Class directly from a smart contract to interact with a smart contract in Java. There are different methods to generate a Java Wrapper Clas">
<meta property="og:type" content="article">
<meta property="og:title" content="Generate a Java Wrapper from your Smart Contract">
<meta property="og:url" content="https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/index.html">
<meta property="og:site_name" content="Gr3g">
<meta property="og:description" content="In this article, we discover how to generate a Java Wrapper Class directly from a smart contract to interact with a smart contract in Java. There are different methods to generate a Java Wrapper Clas">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gateway.pinata.cloud/ipfs/QmTfBi56eSEH6PnX1fK7aYsQWv6Tq4mja1KH3Yxk8NFzJ5">
<meta property="og:image" content="https://imgur.com/nBMOWGq.png">
<meta property="og:image" content="https://imgur.com/dA0sVy1.png">
<meta property="article:published_time" content="2019-07-18T22:00:00.000Z">
<meta property="article:modified_time" content="2026-02-15T13:45:25.576Z">
<meta property="article:author" content="Gr3g">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gateway.pinata.cloud/ipfs/QmTfBi56eSEH6PnX1fK7aYsQWv6Tq4mja1KH3Yxk8NFzJ5">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon.ico" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
        
      
    
    <!-- title -->
    <title>Generate a Java Wrapper from your Smart Contract</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 5.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/blog/">Blog</a></li>
         
          <li><a href="/guides/">Guides</a></li>
         
          <li><a href="/about/">About me</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/08/13/managing-storage-in-a-java-application-with-ipfs/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/07/18/connecting-to-an-ethereum-client-with-java-eclips/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&text=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&is_video=false&description=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Generate a Java Wrapper from your Smart Contract&body=Check out this article: https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&name=Generate a Java Wrapper from your Smart Contract&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&t=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-1-Web3j-Command-Line-tool-and-solc"><span class="toc-number">1.</span> <span class="toc-text">Method 1 - Web3j Command Line tool and solc</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Install-solc-and-verify-the-version"><span class="toc-number">1.1.</span> <span class="toc-text">1. Install solc and verify the version</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Install-web3j-cli"><span class="toc-number">1.2.</span> <span class="toc-text">2. Install web3j-cli</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Compile-the-smart-contract-with-solc"><span class="toc-number">1.3.</span> <span class="toc-text">3. Compile the smart contract with solc</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Generate-the-Wrapper-with-the-web3j-cli"><span class="toc-number">1.4.</span> <span class="toc-text">4. Generate the Wrapper with the web3j-cli</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-2-Web3j-Command-Line-tool-and-Truffle-artefacts"><span class="toc-number">2.</span> <span class="toc-text">Method 2 - Web3j Command Line tool and Truffle artefacts</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Install-Truffle"><span class="toc-number">2.1.</span> <span class="toc-text">1. Install Truffle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Initialize-a-new-Truffle-project"><span class="toc-number">2.2.</span> <span class="toc-text">2. Initialize a new Truffle project</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Add-the-contract-into-the-folder-contracts"><span class="toc-number">2.3.</span> <span class="toc-text">3. Add the contract into the folder contracts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Compile-the-contract"><span class="toc-number">2.4.</span> <span class="toc-text">4. Compile the contract</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-Generate-the-Smart-Contract-Java-Wrapper-from-the-Truffle-Artefact"><span class="toc-number">2.5.</span> <span class="toc-text">5. Generate the Smart Contract Java Wrapper from the Truffle Artefact</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-3-web3j-maven-plugin"><span class="toc-number">3.</span> <span class="toc-text">Method 3 - web3j-maven-plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Prerequisites"><span class="toc-number">3.1.</span> <span class="toc-text">1. Prerequisites</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Copy-the-smart-contract-into-the-folder-src-main-resources"><span class="toc-number">3.2.</span> <span class="toc-text">2. Copy the smart contract into the folder src&#x2F;main&#x2F;resources</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Configure-Maven-to-generate-the-Wrapper-during-the-generate-sources-phase"><span class="toc-number">3.3.</span> <span class="toc-text">3. Configure Maven to generate the Wrapper during the generate-sources phase</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#web3j-maven-plugin"><span class="toc-number">3.3.1.</span> <span class="toc-text">web3j-maven-plugin</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#build-helper-maven-plugin"><span class="toc-number">3.3.2.</span> <span class="toc-text">build-helper-maven-plugin</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Run-Maven-generate-sources"><span class="toc-number">3.4.</span> <span class="toc-text">4. Run Maven generate-sources</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-4-web3j-gradle-plugin"><span class="toc-number">4.</span> <span class="toc-text">Method 4 - web3j-gradle-plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Prerequisites-1"><span class="toc-number">4.1.</span> <span class="toc-text">1. Prerequisites</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Place-the-smart-contract-into-the-folder-src-main-solidity"><span class="toc-number">4.2.</span> <span class="toc-text">2. Place the smart contract into the folder src&#x2F;main&#x2F;solidity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Configure-Gradle-to-generate-the-Wrapper-during-build"><span class="toc-number">4.3.</span> <span class="toc-text">3. Configure Gradle to generate the Wrapper during build</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Execute-gradle-build"><span class="toc-number">4.4.</span> <span class="toc-text">4. Execute gradle build</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        <header id="header">
  <a href="/">
  
    
      <div id="logo" style="background-image: url(/images/logo.png);"></div>
    
  
    <div id="title">
      <h1>Gr3g</h1>
    </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fas fa-bars fa-2x"></i></a>
      </li>
       
        <li><a href="/">Home</a></li>
       
        <li><a href="/blog/">Blog</a></li>
       
        <li><a href="/guides/">Guides</a></li>
       
        <li><a href="/about/">About me</a></li>
      
    </ul>
  </div>
</header>

        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Generate a Java Wrapper from your Smart Contract
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Gr3g</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-07-18T22:00:00.000Z" itemprop="datePublished">2019-07-19</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><img src="https://gateway.pinata.cloud/ipfs/QmTfBi56eSEH6PnX1fK7aYsQWv6Tq4mja1KH3Yxk8NFzJ5"></p>
<p>In this article, we discover how to generate a <a target="_blank" rel="noopener" href="https://www.baeldung.com/java-wrapper-classes">Java Wrapper Class</a> directly from a smart contract to interact with a smart contract in Java.</p>
<p>There are different methods to generate a Java Wrapper Class from a Smart Contract:</p>
<ul>
<li>The <a target="_blank" rel="noopener" href="https://web3j.readthedocs.io/en/latest/command_line.html">Web3j Command Line tool</a> and solc</li>
<li>The Web3j Command Line tool and the artifacts generated by a Truffle build</li>
<li>The <a target="_blank" rel="noopener" href="https://github.com/web3j/web3j-maven-plugin">web3j-maven-plugin</a></li>
<li>The <a target="_blank" rel="noopener" href="https://github.com/web3j/web3j-gradle-plugin">web3j-gradle-plugin</a></li>
</ul>
<p>To show how to use the methods above, this tutorial uses the following Smart Contract which notarizes documents into a registry on the Ethereum Blockchain.</p>
<p><em>DocumentRegistry.sol</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.5.6;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line">*  @dev Smart Contract responsible to notarize documents on the Ethereum Blockchain</span><br><span class="line">*&#x2F;</span><br><span class="line">contract DocumentRegistry &#123;</span><br><span class="line"></span><br><span class="line">  struct Document &#123;</span><br><span class="line">      address signer; &#x2F;&#x2F; Notary</span><br><span class="line">      uint date; &#x2F;&#x2F; Date of notarization</span><br><span class="line">      bytes32 hash; &#x2F;&#x2F; Document Hash</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   *  @dev Storage space used to record all documents notarized with metadata</span><br><span class="line">   *&#x2F;</span><br><span class="line">  mapping(bytes32 &#x3D;&gt; Document) registry;</span><br><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   *  @dev Notarize a document identified by its 32 bytes hash by recording the hash, the sender and date in the registry</span><br><span class="line">   *  @dev Emit an event Notarized in case of success</span><br><span class="line">   *  @param _documentHash Document hash</span><br><span class="line">   *&#x2F;</span><br><span class="line">  function notarizeDocument(bytes32 _documentHash) external returns (bool) &#123;</span><br><span class="line">    registry[_documentHash].signer &#x3D; msg.sender;</span><br><span class="line">    registry[_documentHash].date &#x3D; now;</span><br><span class="line">    registry[_documentHash].hash &#x3D; _documentHash;</span><br><span class="line"></span><br><span class="line">    emit Notarized(msg.sender, _documentHash);</span><br><span class="line"></span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   *  @dev Verify a document identified by its hash was noterized in the registry.</span><br><span class="line">   *  @param _documentHash Document hash</span><br><span class="line">   *  @return bool if document was noterized previsouly in the registry</span><br><span class="line">   *&#x2F;</span><br><span class="line">  function isNotarized(bytes32 _documentHash) external view returns (bool) &#123;</span><br><span class="line">    return registry[_documentHash].hash &#x3D;&#x3D;  _documentHash;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   *  @dev Definition of the event triggered when a document is successfully notarized in the registry</span><br><span class="line">   *&#x2F;</span><br><span class="line">  event Notarized(address indexed _signer, bytes32 _documentHash);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Method-1-Web3j-Command-Line-tool-and-solc"><a href="#Method-1-Web3j-Command-Line-tool-and-solc" class="headerlink" title="Method 1 - Web3j Command Line tool and solc"></a>Method 1 - Web3j Command Line tool and solc</h3><p>This first method generates the Smart contract ABI and bytecode from with <code>solc</code> and gives those two files as input to <code>web3j-cli</code> to generate the Wrapper.</p>
<h4 id="1-Install-solc-and-verify-the-version"><a href="#1-Install-solc-and-verify-the-version" class="headerlink" title="1. Install solc and verify the version"></a>1. Install solc and verify the version</h4><p><a target="_blank" rel="noopener" href="https://solidity.readthedocs.io/en/develop/installing-solidity.html">Install solc</a> and run the command below to make sure the solc version is greater than or equal to <code>0.5.6</code> (the version specified in the smart contract).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> solc --version</span></span><br><span class="line">solc, the solidity compiler commandline interface</span><br><span class="line">Version: 0.5.9+commit.c68bc34e.Linux.g++</span><br></pre></td></tr></table></figure>

<h4 id="2-Install-web3j-cli"><a href="#2-Install-web3j-cli" class="headerlink" title="2. Install web3j-cli"></a>2. Install web3j-cli</h4><p>To install the web3j-cli, download a zipfile/tarball from the <a target="_blank" rel="noopener" href="https://github.com/web3j/web3j/releases/latest">releases</a> page of the project repository, under the <strong>Downloads</strong> section, or for macOS users via <a target="_blank" rel="noopener" href="https://github.com/web3j/homebrew-web3j">Homebrew</a>, or for Arch linux users via the <a target="_blank" rel="noopener" href="https://aur.archlinux.org/packages/web3j/">AUR</a>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew tap web3j/web3j</span><br><span class="line">brew install web3j</span><br><span class="line">web3j</span><br></pre></td></tr></table></figure>

<p>To run via a zipfile, extract it and run the binary, you may also want to add the binary to your <code>PATH</code>:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> unzip web3j-4.3.0.zip</span></span><br><span class="line">    creating: web3j-4.3.0/lib/</span><br><span class="line">    inflating: web3j-4.3.0/lib/core-1.0.2-all.jar</span><br><span class="line">    creating: web3j-4.3.0/bin/</span><br><span class="line">    inflating: web3j-4.3.0/bin/web3j</span><br><span class="line">    inflating: web3j-4.3.0/bin/web3j.bat</span><br><span class="line"><span class="meta">$</span><span class="bash"> ./web3j-&lt;version&gt;/bin/web3j</span></span><br><span class="line"></span><br><span class="line">                _      _____ _     _</span><br><span class="line">            | |    |____ (_)   (_)</span><br><span class="line">__      _____| |__      / /_     _   ___</span><br><span class="line">\ \ /\ / / _ \ &#x27;_ \     \ \ |   | | / _ \</span><br><span class="line">\ V  V /  __/ |_) |.___/ / | _ | || (_) |</span><br><span class="line">    \_/\_/ \___|_.__/ \____/| |(_)|_| \___/</span><br><span class="line">                        _/ |</span><br><span class="line">                        |__/</span><br><span class="line"></span><br><span class="line">Usage: web3j version|wallet|solidity ...</span><br></pre></td></tr></table></figure>

<h4 id="3-Compile-the-smart-contract-with-solc"><a href="#3-Compile-the-smart-contract-with-solc" class="headerlink" title="3. Compile the smart contract with solc"></a>3. Compile the smart contract with solc</h4><p>Given our Solidity file <em>DocumentRegistry.sol</em>, the <code>solc &lt;sol&gt; --bin --abi --optimize -o &lt;output&gt;</code> command compiles the smart contract and generates two new files in the same directory :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> solc DocumentRegistry.sol --bin --abi --optimize -o ./</span></span><br><span class="line">Compiler run successful. Artifact(s) can be found in directory ./.</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -l</span></span><br><span class="line">total 12</span><br><span class="line">-rw-rw-r-- 1 gr3g gr3g  565 Jun 24 13:42 DocumentRegistry.abi</span><br><span class="line">-rw-rw-r-- 1 gr3g gr3g  676 Jun 24 13:42 DocumentRegistry.bin</span><br><span class="line">-rw-rw-r-- 1 gr3g gr3g 1488 Jun 24 13:40 DocumentRegistry.sol</span><br></pre></td></tr></table></figure>

<ul>
<li><em>DocumentRegistry.bin</em>: Binary file, bytecode of the smart contract</li>
<li><em>DocumentRegistry.abi</em>: ABI (Application Binary Interface) of the smart contract which defines the interface in a JSON format.</li>
</ul>
<h4 id="4-Generate-the-Wrapper-with-the-web3j-cli"><a href="#4-Generate-the-Wrapper-with-the-web3j-cli" class="headerlink" title="4. Generate the Wrapper with the web3j-cli"></a>4. Generate the Wrapper with the web3j-cli</h4><p>Using the ABI and bytecode (generated in step 3) and <code>web3j-cli</code> (installed during step 2), we can now generate our Smart contract Java Wrapper with the following command:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">web3j solidity generate -a=&lt;abiFile&gt; -b=&lt;binFile&gt; -o=&lt;destinationFileDir&gt; -p=&lt;packageName&gt;</span><br></pre></td></tr></table></figure>

<p>For example:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> web3j solidity generate -a DocumentRegistry.abi  -b DocumentRegistry.bin -o . -p me.gr3g.tutorials.javaethereum.wrapper</span></span><br><span class="line"></span><br><span class="line">              _      _____ _     _</span><br><span class="line">             | |    |____ (_)   (_)</span><br><span class="line">__      _____| |__      / /_     _   ___</span><br><span class="line">\ \ /\ / / _ \ &#x27;_ \     \ \ |   | | / _ \</span><br><span class="line"> \ V  V /  __/ |_) |.___/ / | _ | || (_) |</span><br><span class="line">  \_/\_/ \___|_.__/ \____/| |(_)|_| \___/</span><br><span class="line">                         _/ |</span><br><span class="line">                        |__/</span><br><span class="line"></span><br><span class="line">Generating me.gr3g.tutorials.javaethereum.wrapper.DocumentRegistry ... File written to .</span><br></pre></td></tr></table></figure>

<p>As a result, you should see the Java Wrapper file generated into the folder <em><package-folders>/<contract>.java</em> that you can copy to the <em>src/main/java/</em> folder of your project.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./me/gr3g/tutorials/javaethereum/wrapper/DocumentRegistry.java</span><br></pre></td></tr></table></figure>

<h3 id="Method-2-Web3j-Command-Line-tool-and-Truffle-artefacts"><a href="#Method-2-Web3j-Command-Line-tool-and-Truffle-artefacts" class="headerlink" title="Method 2 - Web3j Command Line tool and Truffle artefacts"></a>Method 2 - Web3j Command Line tool and Truffle artefacts</h3><p><a target="_blank" rel="noopener" href="https://www.trufflesuite.com/truffle"><strong>Truffle</strong></a> is one of the most well-known frameworks to help you develop, test and deploy with Ethereum. We can use the artefacts that Truffle generates with the Web3j command line tool to create the wrapper class.</p>
<h4 id="1-Install-Truffle"><a href="#1-Install-Truffle" class="headerlink" title="1. Install Truffle"></a>1. Install Truffle</h4><p>Truffle is available as an npm package.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install truffle -g</span></span><br><span class="line">- Fetching solc version list from solc-bin. Attempt #1</span><br><span class="line">+ truffle@5.0.24</span><br><span class="line">added 27 packages from 439 contributors in 11.636s</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> truffle version</span></span><br><span class="line">Truffle v5.0.24 (core: 5.0.24)</span><br><span class="line">Solidity v0.5.0 (solc-js)</span><br><span class="line">Node v10.15.3</span><br><span class="line">Web3.js v1.0.0-beta.37</span><br></pre></td></tr></table></figure>

<h4 id="2-Initialize-a-new-Truffle-project"><a href="#2-Initialize-a-new-Truffle-project" class="headerlink" title="2. Initialize a new Truffle project"></a>2. Initialize a new Truffle project</h4><p>To initialize a Truffle project, use the command <code>truffle init</code> in a new folder. The command creates the folders <em>contracts/</em>, <em>migration/</em> and <em>test/</em>, and the file <em>truffle-config.js</em>.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir truffle</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> truffle</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> truffle init</span></span><br><span class="line"></span><br><span class="line">? Preparing to download</span><br><span class="line">? Downloading</span><br><span class="line">? Cleaning up temporary files</span><br><span class="line">? Setting up box</span><br><span class="line"></span><br><span class="line">Unbox successful. Sweet!</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line"></span><br><span class="line">  Compile:        truffle compile</span><br><span class="line">  Migrate:        truffle migrate</span><br><span class="line">  Test contracts: truffle test</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -l</span></span><br><span class="line">total 20</span><br><span class="line">drwxrwxr-x 2 gr3g gr3g 4096 Jun 24 14:25 contracts</span><br><span class="line">drwxrwxr-x 2 gr3g gr3g 4096 Jun 24 14:25 migrations</span><br><span class="line">drwxrwxr-x 2 gr3g gr3g 4096 Jun 24 14:25 test</span><br><span class="line">-rw-rw-r-- 1 gr3g gr3g 4233 Jun 24 14:25 truffle-config.js</span><br></pre></td></tr></table></figure>

<h4 id="3-Add-the-contract-into-the-folder-contracts"><a href="#3-Add-the-contract-into-the-folder-contracts" class="headerlink" title="3. Add the contract into the folder contracts"></a>3. Add the contract into the folder <code>contracts</code></h4><p>Copy the Smart Contract source <em>DocumentRegistry.sol</em> into the folder <em>contracts</em>.</p>
<h4 id="4-Compile-the-contract"><a href="#4-Compile-the-contract" class="headerlink" title="4. Compile the contract"></a>4. Compile the contract</h4><p>Compile the smart contract with the command <code>truffle compile</code>, this command generates a new folder <em>build/contracts/</em>, containing a Truffle artefact for each Smart contract compiled.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> truffle compile</span></span><br><span class="line"></span><br><span class="line">Compiling your contracts...</span><br><span class="line">===========================</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Compiling ./contracts/DocumentRegistry.sol</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Compiling ./contracts/Migrations.sol</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Artifacts written to /home/gr3g/workspace/tutorials/java-ethereum-wrapper/truffle/build/contracts</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Compiled successfully using:</span></span><br><span class="line">   - solc: 0.5.8+commit.23d335f2.Emscripten.clang</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -l build/contracts/</span></span><br><span class="line">total 136</span><br><span class="line">-rw-rw-r-- 1 gr3g gr3g 79721 Jun 24 14:33 DocumentRegistry.json</span><br><span class="line">-rw-rw-r-- 1 gr3g gr3g 54043 Jun 24 14:33 Migrations.json</span><br></pre></td></tr></table></figure>

<h4 id="5-Generate-the-Smart-Contract-Java-Wrapper-from-the-Truffle-Artefact"><a href="#5-Generate-the-Smart-Contract-Java-Wrapper-from-the-Truffle-Artefact" class="headerlink" title="5. Generate the Smart Contract Java Wrapper from the Truffle Artefact"></a>5. Generate the Smart Contract Java Wrapper from the Truffle Artefact</h4><p>Finally, web3j-cli provides a method to generate the Wrapper directly from the Truffle artefact result of <code>truffle compile</code> with the command:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> web3j  truffle generate ./build/contracts/DocumentRegistry.json -o . -p me.gr3g.tutorials.javaethereum.wrapper</span></span><br><span class="line"></span><br><span class="line">              _      _____ _     _</span><br><span class="line">             | |    |____ (_)   (_)</span><br><span class="line">__      _____| |__      / /_     _   ___</span><br><span class="line">\ \ /\ / / _ \ &#x27;_ \     \ \ |   | | / _ \</span><br><span class="line"> \ V  V /  __/ |_) |.___/ / | _ | || (_) |</span><br><span class="line">  \_/\_/ \___|_.__/ \____/| |(_)|_| \___/</span><br><span class="line">                         _/ |</span><br><span class="line">                        |__/</span><br><span class="line"></span><br><span class="line">Generating me.gr3g.tutorials.javaethereum.wrapper.DocumentRegistry ... File written to .</span><br></pre></td></tr></table></figure>

<p>As a result, you should see the Java Wrapper file generated into the folder _&lt;package_folders&gt;/<contract>.java_ that you can copy to the <em>src/main/java/</em> folder of your project.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./me/gr3g/tutorials/javaethereum/wrapper/DocumentRegistry.java</span><br></pre></td></tr></table></figure>

<p><strong>Note</strong>: With Truffle you can do a lot more than shown in this post, such as deployment scriptd (migration), Multi-network configuration, testing, debugging. I recommend reading <a target="_blank" rel="noopener" href="https://kauri.io/collection/5b8e401ee727370001c942e3">the following guide</a> to learn more about all the features.</p>
<h3 id="Method-3-web3j-maven-plugin"><a href="#Method-3-web3j-maven-plugin" class="headerlink" title="Method 3 - web3j-maven-plugin"></a>Method 3 - web3j-maven-plugin</h3><p>The next solution is more elegant than the previous two because we donâ€™t have to install the webj-cli and copy the file to the source folder. We can use this method directly inside a Java project using Maven and the <a target="_blank" rel="noopener" href="https://github.com/web3j/web3j-maven-plugin"><strong>web3j-maven-plugin</strong></a>. The following steps assume you have created a Maven project.</p>
<h4 id="1-Prerequisites"><a href="#1-Prerequisites" class="headerlink" title="1. Prerequisites"></a>1. Prerequisites</h4><p><a target="_blank" rel="noopener" href="https://solidity.readthedocs.io/en/develop/installing-solidity.html">Install solc</a> and run the command below to make sure the solc version is greater than or equal to <code>0.5.6</code> (the version specified in the smart contract).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> solc --version</span></span><br><span class="line">solc, the solidity compiler commandline interface</span><br><span class="line">Version: 0.5.9+commit.c68bc34e.Linux.g++</span><br></pre></td></tr></table></figure>

<h4 id="2-Copy-the-smart-contract-into-the-folder-src-main-resources"><a href="#2-Copy-the-smart-contract-into-the-folder-src-main-resources" class="headerlink" title="2. Copy the smart contract into the folder src/main/resources"></a>2. Copy the smart contract into the folder <em>src/main/resources</em></h4><p>Copy the Smart Contract source <em>DocumentRegistry.sol</em> into the <em>src/main/resources</em> folder of the Maven project.</p>
<h4 id="3-Configure-Maven-to-generate-the-Wrapper-during-the-generate-sources-phase"><a href="#3-Configure-Maven-to-generate-the-Wrapper-during-the-generate-sources-phase" class="headerlink" title="3. Configure Maven to generate the Wrapper during the generate-sources phase"></a>3. Configure Maven to generate the Wrapper during the <code>generate-sources</code> phase</h4><p>In this step, we configure two Maven plugins:</p>
<h5 id="web3j-maven-plugin"><a href="#web3j-maven-plugin" class="headerlink" title="web3j-maven-plugin"></a>web3j-maven-plugin</h5><p>The first plugin does the same as the two previous methods but integrated with Maven. First we configure the plugin to execute automatically when entering the <code>generate-sources</code> phase of the project.</p>
<p>Secondly we configure the plugin parameters:</p>
<ul>
<li><em>packageName</em>: Package name to apply to the generated Wrapper classes</li>
<li><em>sourceDestination</em>: Target destination folder to move the generated Wrapper classes</li>
<li><em>soliditySourceFiles</em>: Where to find the Smart Contract source files</li>
</ul>
<h5 id="build-helper-maven-plugin"><a href="#build-helper-maven-plugin" class="headerlink" title="build-helper-maven-plugin"></a>build-helper-maven-plugin</h5><p>The second plugin adds the <em>sourceDestination</em> folder into the classpath so we can import the generated Wrapper classes</p>
<p><em>pom.xml</em></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.web3j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>web3j-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>generate-sources-web3j<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>generate-sources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>generate-sources<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">packageName</span>&gt;</span>me.gr3g.tutorials.javaethereum.contracts.generated<span class="tag">&lt;/<span class="name">packageName</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">sourceDestination</span>&gt;</span>$&#123;basedir&#125;/target/generated-sources/contracts<span class="tag">&lt;/<span class="name">sourceDestination</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">soliditySourceFiles</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;basedir&#125;/src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.sol<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">soliditySourceFiles</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.codehaus.mojo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>build-helper-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>add-source<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>generate-sources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>add-source<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">sources</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">source</span>&gt;</span>$&#123;basedir&#125;/target/generated-sources/contracts<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">sources</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="4-Run-Maven-generate-sources"><a href="#4-Run-Maven-generate-sources" class="headerlink" title="4. Run Maven generate-sources"></a>4. Run Maven generate-sources</h4><p>Finally, build the Maven project by using, for example <code>mvn clean package</code> (including the generate-sources phase). As a result, we can see the Java Wrapper has been generated into <code>/target/generated-sources/contracts/me/gr3g/tutorials/javaethereum/contracts/generated/DocumentRegistry.java</code> and added to the classpath automatically.</p>
<p><img src="https://imgur.com/nBMOWGq.png"></p>
<h3 id="Method-4-web3j-gradle-plugin"><a href="#Method-4-web3j-gradle-plugin" class="headerlink" title="Method 4 - web3j-gradle-plugin"></a>Method 4 - web3j-gradle-plugin</h3><p>The last method is similar to the previous method with Maven, but using Gradle instead.</p>
<h4 id="1-Prerequisites-1"><a href="#1-Prerequisites-1" class="headerlink" title="1. Prerequisites"></a>1. Prerequisites</h4><p><a target="_blank" rel="noopener" href="https://solidity.readthedocs.io/en/develop/installing-solidity.html">Install solc</a> and run the command below to make sure the solc version is greater than or equal to <code>0.5.6</code> (the version specified in the smart contract).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> solc --version</span></span><br><span class="line">solc, the solidity compiler commandline interface</span><br><span class="line">Version: 0.5.9+commit.c68bc34e.Linux.g++</span><br></pre></td></tr></table></figure>

<h4 id="2-Place-the-smart-contract-into-the-folder-src-main-solidity"><a href="#2-Place-the-smart-contract-into-the-folder-src-main-solidity" class="headerlink" title="2. Place the smart contract into the folder src/main/solidity"></a>2. Place the smart contract into the folder <em>src/main/solidity</em></h4><p>Copy the Smart Contract source <em>DocumentRegistry.sol</em> into the folder <em>src/main/solidity</em> of the Gradle project.</p>
<h4 id="3-Configure-Gradle-to-generate-the-Wrapper-during-build"><a href="#3-Configure-Gradle-to-generate-the-Wrapper-during-build" class="headerlink" title="3. Configure Gradle to generate the Wrapper during build"></a>3. Configure Gradle to generate the Wrapper during build</h4><p>First import the web3j-gradle plugin into the <em>build.gradle</em> file</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id <span class="string">&#x27;org.web3j&#x27;</span> version <span class="string">&#x27;4.3.0&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then we can configure the plugin to specify the package name and the target folder for the generated wrapper classes:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">web3j &#123;</span><br><span class="line">    generatedPackageName = <span class="string">&#x27;me.gr3g.tutorials.javaethereum.contracts.generated&#x27;</span></span><br><span class="line">    generatedFilesBaseDir = <span class="string">&quot;$buildDir/contracts&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To use your system installed version of <code>solc</code> instead of the version bundled with the plugin, add the following lines to <em>build.gradle</em>:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">solidity &#123;</span><br><span class="line">    executable = <span class="string">&quot;solc&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>build.gradle</em></p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * This file was generated by the Gradle &#x27;init&#x27; task.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * This generated file contains a sample Java Library project to get you started.</span></span><br><span class="line"><span class="comment"> * For more details take a look at the Java Libraries chapter in the Gradle</span></span><br><span class="line"><span class="comment"> * user guide available at https://docs.gradle.org/5.0/userguide/java_library_plugin.html</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">plugins &#123;</span><br><span class="line">    <span class="comment">// Apply the java-library plugin to add support for Java Library</span></span><br><span class="line">    id <span class="string">&#x27;java-library&#x27;</span></span><br><span class="line">    id <span class="string">&#x27;org.web3j&#x27;</span> version <span class="string">&#x27;4.3.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">repositories &#123;</span><br><span class="line">    <span class="comment">// Use jcenter for resolving your dependencies.</span></span><br><span class="line">    <span class="comment">// You can declare any Maven/Ivy/file repository here.</span></span><br><span class="line">    jcenter()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    <span class="comment">// This dependency is exported to consumers, that is to say found on their compile classpath.</span></span><br><span class="line">    api <span class="string">&#x27;org.apache.commons:commons-math3:3.6.1&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// This dependency is used internally, and not exposed to consumers on their own compile classpath.</span></span><br><span class="line">    implementation <span class="string">&#x27;com.google.guava:guava:26.0-jre&#x27;</span></span><br><span class="line">    implementation <span class="string">&#x27;org.web3j:core:4.3.0&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use JUnit test framework</span></span><br><span class="line">    testImplementation <span class="string">&#x27;junit:junit:4.12&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">web3j &#123;</span><br><span class="line">    generatedPackageName = <span class="string">&#x27;me.gr3g.tutorials.javaethereum.contracts.generated&#x27;</span></span><br><span class="line">    generatedFilesBaseDir = <span class="string">&quot;$buildDir/contracts&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">solidity &#123;</span><br><span class="line">    executable = <span class="string">&quot;solc&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-Execute-gradle-build"><a href="#4-Execute-gradle-build" class="headerlink" title="4. Execute gradle build"></a>4. Execute gradle build</h4><p>In this last step, we execute the build using <code>./gradlew tasks --all</code> and verify that our generated wrapper classes have been generated.</p>
<p><img src="https://imgur.com/dA0sVy1.png"></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/blog/">Blog</a></li>
         
          <li><a href="/guides/">Guides</a></li>
         
          <li><a href="/about/">About me</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-1-Web3j-Command-Line-tool-and-solc"><span class="toc-number">1.</span> <span class="toc-text">Method 1 - Web3j Command Line tool and solc</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Install-solc-and-verify-the-version"><span class="toc-number">1.1.</span> <span class="toc-text">1. Install solc and verify the version</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Install-web3j-cli"><span class="toc-number">1.2.</span> <span class="toc-text">2. Install web3j-cli</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Compile-the-smart-contract-with-solc"><span class="toc-number">1.3.</span> <span class="toc-text">3. Compile the smart contract with solc</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Generate-the-Wrapper-with-the-web3j-cli"><span class="toc-number">1.4.</span> <span class="toc-text">4. Generate the Wrapper with the web3j-cli</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-2-Web3j-Command-Line-tool-and-Truffle-artefacts"><span class="toc-number">2.</span> <span class="toc-text">Method 2 - Web3j Command Line tool and Truffle artefacts</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Install-Truffle"><span class="toc-number">2.1.</span> <span class="toc-text">1. Install Truffle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Initialize-a-new-Truffle-project"><span class="toc-number">2.2.</span> <span class="toc-text">2. Initialize a new Truffle project</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Add-the-contract-into-the-folder-contracts"><span class="toc-number">2.3.</span> <span class="toc-text">3. Add the contract into the folder contracts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Compile-the-contract"><span class="toc-number">2.4.</span> <span class="toc-text">4. Compile the contract</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-Generate-the-Smart-Contract-Java-Wrapper-from-the-Truffle-Artefact"><span class="toc-number">2.5.</span> <span class="toc-text">5. Generate the Smart Contract Java Wrapper from the Truffle Artefact</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-3-web3j-maven-plugin"><span class="toc-number">3.</span> <span class="toc-text">Method 3 - web3j-maven-plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Prerequisites"><span class="toc-number">3.1.</span> <span class="toc-text">1. Prerequisites</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Copy-the-smart-contract-into-the-folder-src-main-resources"><span class="toc-number">3.2.</span> <span class="toc-text">2. Copy the smart contract into the folder src&#x2F;main&#x2F;resources</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Configure-Maven-to-generate-the-Wrapper-during-the-generate-sources-phase"><span class="toc-number">3.3.</span> <span class="toc-text">3. Configure Maven to generate the Wrapper during the generate-sources phase</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#web3j-maven-plugin"><span class="toc-number">3.3.1.</span> <span class="toc-text">web3j-maven-plugin</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#build-helper-maven-plugin"><span class="toc-number">3.3.2.</span> <span class="toc-text">build-helper-maven-plugin</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Run-Maven-generate-sources"><span class="toc-number">3.4.</span> <span class="toc-text">4. Run Maven generate-sources</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-4-web3j-gradle-plugin"><span class="toc-number">4.</span> <span class="toc-text">Method 4 - web3j-gradle-plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Prerequisites-1"><span class="toc-number">4.1.</span> <span class="toc-text">1. Prerequisites</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Place-the-smart-contract-into-the-folder-src-main-solidity"><span class="toc-number">4.2.</span> <span class="toc-text">2. Place the smart contract into the folder src&#x2F;main&#x2F;solidity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Configure-Gradle-to-generate-the-Wrapper-during-build"><span class="toc-number">4.3.</span> <span class="toc-text">3. Configure Gradle to generate the Wrapper during build</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Execute-gradle-build"><span class="toc-number">4.4.</span> <span class="toc-text">4. Execute gradle build</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&text=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&is_video=false&description=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Generate a Java Wrapper from your Smart Contract&body=Check out this article: https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&title=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&name=Generate a Java Wrapper from your Smart Contract&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://gr3g.tech/2019/07/18/generate-a-java-wrapper-from-your-smart-contract/&t=Generate a Java Wrapper from your Smart Contract"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2019-2026
    Gr3g
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/blog/">Blog</a></li>
        
          <li><a href="/guides/">Guides</a></li>
        
          <li><a href="/about/">About me</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5XMQMBKWMY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-5XMQMBKWMY');
    </script>

<!-- Baidu Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>