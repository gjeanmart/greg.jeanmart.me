<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Mahuta (formerly known as IPFS-Store) is a convenient library and API to aggregate and consolidate files or documents stored by your application on the IPFS network. It provides a solution to collect">
<meta property="og:type" content="article">
<meta property="og:title" content="Getting started with Mahuta - A Search engine for the IPFS">
<meta property="og:url" content="https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/index.html">
<meta property="og:site_name" content="GrÃ©goire Jeanmart">
<meta property="og:description" content="Mahuta (formerly known as IPFS-Store) is a convenient library and API to aggregate and consolidate files or documents stored by your application on the IPFS network. It provides a solution to collect">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gateway.pinata.cloud/ipfs/QmWMrtdrHCU5J7N4BQ9SX5Uy1NXK7viCNZT9pqEkt2C3wP">
<meta property="og:image" content="https://imgur.com/tIdQRD8.png">
<meta property="article:published_time" content="2019-12-10T05:00:00.000Z">
<meta property="article:modified_time" content="2025-05-27T20:28:28.534Z">
<meta property="article:author" content="Greg Jeanmart">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gateway.pinata.cloud/ipfs/QmWMrtdrHCU5J7N4BQ9SX5Uy1NXK7viCNZT9pqEkt2C3wP">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon.ico" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
        
      
    
    <!-- title -->
    <title>Getting started with Mahuta - A Search engine for the IPFS</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 5.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/blog/">Blog</a></li>
         
          <li><a href="/guides/">Guides</a></li>
         
          <li><a href="/about/">About me</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2020/01/21/bridge-assets-between-a-sidechain-and-a-mainchain/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/10/19/(55)-collect-traces-with-elastic-apm-for-monitori/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&text=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&is_video=false&description=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Getting started with Mahuta - A Search engine for the IPFS&body=Check out this article: https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&name=Getting started with Mahuta - A Search engine for the IPFS&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&t=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Features"><span class="toc-number">1.</span> <span class="toc-text">Features</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Getting-Started"><span class="toc-number">2.</span> <span class="toc-text">Getting Started</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Prerequisites"><span class="toc-number">2.0.1.</span> <span class="toc-text">Prerequisites</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-library"><span class="toc-number">3.</span> <span class="toc-text">Java library</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Data"><span class="toc-number">4.</span> <span class="toc-text">Spring-Data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-API-with-Docker"><span class="toc-number">5.</span> <span class="toc-text">HTTP API with Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Prerequisites-1"><span class="toc-number">5.1.</span> <span class="toc-text">Prerequisites</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Docker"><span class="toc-number">5.2.</span> <span class="toc-text">Docker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Docker-Compose"><span class="toc-number">5.3.</span> <span class="toc-text">Docker Compose</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Examples"><span class="toc-number">5.4.</span> <span class="toc-text">Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Create-the-index-article"><span class="toc-number">5.4.1.</span> <span class="toc-text">Create the index article</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Store-and-index-an-article-and-its-metadata"><span class="toc-number">5.4.2.</span> <span class="toc-text">Store and index an article and its metadata</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Search-by-query"><span class="toc-number">5.4.3.</span> <span class="toc-text">Search by query</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Getting started with Mahuta - A Search engine for the IPFS
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Greg Jeanmart</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-12-10T05:00:00.000Z" itemprop="datePublished">2019-12-10</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><img src="https://gateway.pinata.cloud/ipfs/QmWMrtdrHCU5J7N4BQ9SX5Uy1NXK7viCNZT9pqEkt2C3wP"></p>
<p><a target="_blank" rel="noopener" href="https://github.com/ConsenSys/Mahuta"><strong>Mahuta</strong></a> (formerly known as IPFS-Store) is a convenient library and API to aggregate and consolidate files or documents stored by your application on the IPFS network. It provides a solution to collect, store, index and search data used.</p>
<h3 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h3><ul>
<li><strong>Indexation</strong>: Mahuta stores documents or files on IPFS and index the hash with optional metadata.</li>
<li><strong>Discovery</strong>: Documents and files indexed can be searched using complex logical queries or fuzzy/full text search)</li>
<li><strong>Scalable</strong>: Optimised for large scale applications using asynchronous writing mechanism and caching</li>
<li><strong>Replication</strong>: Replica set can be configured to replicate (pin) content across multiple nodes (standard IPFS node or IPFS-cluster node)</li>
<li><strong>Multi-platform</strong>: Mahuta can be used as a simple embedded Java library for your JVM-based application or run as a simple, scalable and configurable Rest API.</li>
</ul>
<p><img src="https://imgur.com/tIdQRD8.png" alt="Mahuta.jpg"></p>
<hr>
<h3 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h3><p>These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.</p>
<h5 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h5><p>Mahuta depends of two components:</p>
<ul>
<li>an IPFS node (<a target="_blank" rel="noopener" href="https://github.com/ipfs/go-ipfs">go</a> or <a target="_blank" rel="noopener" href="https://github.com/ipfs/js-ipfs">js</a> implementation)</li>
<li>a search engine (currently only ElasticSearch is supported)</li>
</ul>
<p>See how to run those two components first <a target="_blank" rel="noopener" href="https://github.com/ConsenSys/Mahuta/blob/master/mahuta-docs/run_ipfs_and_elasticsearch.md">run IPFS and ElasticSearch</a></p>
<h3 id="Java-library"><a href="#Java-library" class="headerlink" title="Java library"></a>Java library</h3><ol>
<li>Import the Maven dependencies (core module + indexer)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;net.consensys.mahuta&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mahuta-core&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;$&#123;MAHUTA_VERSION&#125;&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;net.consensys.mahuta&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mahuta-indexing-elasticsearch&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;$&#123;MAHUTA_VERSION&#125;&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Configure Mahuta to connect to an IPFS node and an indexer</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Mahuta mahuta &#x3D; new MahutaFactory()</span><br><span class="line">    .configureStorage(IPFSService.connect(&quot;localhost&quot;, 5001))</span><br><span class="line">    .configureIndexer(ElasticSearchService.connect(&quot;localhost&quot;, 9300, &quot;cluster-name&quot;))</span><br><span class="line">    .defaultImplementation();</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Execute high-level operations</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">IndexingResponse response &#x3D; mahuta.prepareStringIndexing(&quot;article&quot;, &quot;## This is my first article&quot;)</span><br><span class="line">    .contentType(&quot;text&#x2F;markdown&quot;)</span><br><span class="line">    .indexDocId(&quot;article-1&quot;)</span><br><span class="line">    .indexFields(ImmutableMap.of(&quot;title&quot;, &quot;First Article&quot;, &quot;author&quot;, &quot;greg&quot;))</span><br><span class="line">    .execute();</span><br><span class="line"></span><br><span class="line">GetResponse response &#x3D; mahuta.prepareGet()</span><br><span class="line">    .indexName(&quot;article&quot;)</span><br><span class="line">    .indexDocId(&quot;article-1&quot;)</span><br><span class="line">    .loadFile(true)</span><br><span class="line">    .execute();</span><br><span class="line"></span><br><span class="line">SearchResponse response &#x3D; mahuta.prepareSearch()</span><br><span class="line">    .indexName(&quot;article&quot;)</span><br><span class="line">    .query(Query.newQuery().equals(&quot;author&quot;, &quot;greg&quot;))</span><br><span class="line">    .pageRequest(PageRequest.of(0, 20))</span><br><span class="line">    .execute();</span><br></pre></td></tr></table></figure>

<p>For more info, <a target="_blank" rel="noopener" href="https://github.com/ConsenSys/Mahuta/blob/master/mahuta-docs/mahuta_java_api.md">Mahuta Java API</a></p>
<h3 id="Spring-Data"><a href="#Spring-Data" class="headerlink" title="Spring-Data"></a>Spring-Data</h3><ol>
<li>Import the Maven dependencies</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;net.consensys.mahuta&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mahuta-springdata&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;$&#123;MAHUTA_VERSION&#125;&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Configure your spring-data repository</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">@IPFSDocument(index &#x3D; &quot;article&quot;, indexConfiguration &#x3D; &quot;article_mapping.json&quot;, indexContent &#x3D; true)</span><br><span class="line">public class Article &#123;</span><br><span class="line"></span><br><span class="line">    @Id</span><br><span class="line">    private String id;</span><br><span class="line"></span><br><span class="line">    @Hash</span><br><span class="line">    private String hash;</span><br><span class="line"></span><br><span class="line">    @Fulltext</span><br><span class="line">    private String title;</span><br><span class="line"></span><br><span class="line">    @Fulltext</span><br><span class="line">    private String content;</span><br><span class="line"></span><br><span class="line">    @Indexfield</span><br><span class="line">    private Date createdAt;</span><br><span class="line"></span><br><span class="line">    @Indexfield</span><br><span class="line">    private String createdBy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class ArticleRepository extends MahutaRepositoryImpl&lt;Article, String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    public ArticleRepository(Mahuta mahuta) &#123;</span><br><span class="line">        super(mahuta);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>For more info, <a target="_blank" rel="noopener" href="https://github.com/ConsenSys/Mahuta/blob/master/mahuta-docs/mahuta_spring_data.md">Mahuta Spring Data</a></p>
<h3 id="HTTP-API-with-Docker"><a href="#HTTP-API-with-Docker" class="headerlink" title="HTTP API with Docker"></a>HTTP API with Docker</h3><h4 id="Prerequisites-1"><a href="#Prerequisites-1" class="headerlink" title="Prerequisites"></a>Prerequisites</h4><ul>
<li>Docker</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ConsenSys/Mahuta/blob/master/mahuta-docs/run_ipfs_and_elasticsearch.md#Docker">run IPFS and ElasticSearch with Docker</a></li>
</ul>
<h4 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it --name mahuta \</span><br><span class="line">    -p 8040:8040 \</span><br><span class="line">    -e MAHUTA_IPFS_HOST&#x3D;ipfs \</span><br><span class="line">    -e MAHUTA_ELASTICSEARCH_HOST&#x3D;elasticsearch \</span><br><span class="line">    gjeanmart&#x2F;mahuta</span><br></pre></td></tr></table></figure>

<h4 id="Docker-Compose"><a href="#Docker-Compose" class="headerlink" title="Docker Compose"></a>Docker Compose</h4><p><a target="_blank" rel="noopener" href="https://github.com/ConsenSys/Mahuta/blob/master/mahuta-docs/mahuta_docker-compose.md">Docker-compose sample file</a></p>
<h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h4><p>To access the API documentation, go to <a target="_blank" rel="noopener" href="https://github.com/ConsenSys/Mahuta/blob/master/mahuta-docs/mahuta_http-api.md">Mahuta HTTP API</a></p>
<h5 id="Create-the-index-article"><a href="#Create-the-index-article" class="headerlink" title="Create the index article"></a>Create the index <code>article</code></h5><ul>
<li>  <em>Sample Request:</em></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST \</span><br><span class="line">  http:&#x2F;&#x2F;localhost:8040&#x2F;mahuta&#x2F;config&#x2F;index&#x2F;article \</span><br><span class="line">  -H &#39;Content-Type: application&#x2F;json&#39;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><em>Success Response:</em></p>
<ul>
<li>Code: 200<br>  Content:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;status&quot;: &quot;SUCCESS&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h5 id="Store-and-index-an-article-and-its-metadata"><a href="#Store-and-index-an-article-and-its-metadata" class="headerlink" title="Store and index an article and its metadata"></a>Store and index an article and its metadata</h5><ul>
<li>  <em>Sample Request:</em></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST \</span><br><span class="line">  &#39;http:&#x2F;&#x2F;localhost:8040&#x2F;mahuta&#x2F;index&#39; \</span><br><span class="line">  -H &#39;content-type: application&#x2F;json&#39; \</span><br><span class="line">  -d &#39;&#123;&quot;content&quot;:&quot;# Hello world,\n this is my first file stored on **IPFS**&quot;,&quot;indexName&quot;:&quot;article&quot;,&quot;indexDocId&quot;:&quot;hello_world&quot;,&quot;contentType&quot;:&quot;text&#x2F;markdown&quot;,&quot;index_fields&quot;:&#123;&quot;title&quot;:&quot;Hello world&quot;,&quot;author&quot;:&quot;Gregoire Jeanmart&quot;,&quot;votes&quot;:10,&quot;date_created&quot;:1518700549,&quot;tags&quot;:[&quot;general&quot;]&#125;&#125;&#39;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><em>Success Response:</em></p>
<ul>
<li>Code: 200<br>  Content:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;indexName&quot;: &quot;article&quot;,</span><br><span class="line">  &quot;indexDocId&quot;: &quot;hello_world&quot;,</span><br><span class="line">  &quot;contentId&quot;: &quot;QmWHR4e1JHMs2h7XtbDsS9r2oQkyuzVr5bHdkEMYiqfeNm&quot;,</span><br><span class="line">  &quot;contentType&quot;: &quot;text&#x2F;markdown&quot;,</span><br><span class="line">  &quot;pinned&quot;: true,</span><br><span class="line">  &quot;indexFields&quot;: &#123;</span><br><span class="line">    &quot;title&quot;: &quot;Hello world&quot;,</span><br><span class="line">    &quot;author&quot;: &quot;Gregoire Jeanmart&quot;,</span><br><span class="line">    &quot;votes&quot;: 10,</span><br><span class="line">    &quot;createAt&quot;: 1518700549,</span><br><span class="line">    &quot;tags&quot;: [</span><br><span class="line">      &quot;general&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;status&quot;: &quot;SUCCESS&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h5 id="Search-by-query"><a href="#Search-by-query" class="headerlink" title="Search by query"></a>Search by query</h5><ul>
<li>  <em>Sample Request:</em></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST \</span><br><span class="line"> &#39;http:&#x2F;&#x2F;localhost:8040&#x2F;mahuta&#x2F;query&#x2F;search?index&#x3D;article&#39; \</span><br><span class="line"> -H &#39;content-type: application&#x2F;json&#39; \</span><br><span class="line"> -d &#39;&#123;&quot;query&quot;:[&#123;&quot;name&quot;:&quot;title&quot;,&quot;operation&quot;:&quot;CONTAINS&quot;,&quot;value&quot;:&quot;Hello&quot;&#125;,&#123;&quot;name&quot;:&quot;author.keyword&quot;,&quot;operation&quot;:&quot;EQUALS&quot;,&quot;value&quot;:&quot;Gregoire Jeanmart&quot;&#125;,&#123;&quot;name&quot;:&quot;votes&quot;,&quot;operation&quot;:&quot;GT&quot;,&quot;value&quot;:&quot;5&quot;&#125;]&#125;&#39;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><em>Success Response:</em></p>
<ul>
<li>Code: 200<br>  Content:</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;status&quot;: &quot;SUCCESS&quot;,</span><br><span class="line">  &quot;page&quot;: &#123;</span><br><span class="line">    &quot;pageRequest&quot;: &#123;</span><br><span class="line">      &quot;page&quot;: 0,</span><br><span class="line">      &quot;size&quot;: 20,</span><br><span class="line">      &quot;sort&quot;: null,</span><br><span class="line">      &quot;direction&quot;: &quot;ASC&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;elements&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;metadata&quot;: &#123;</span><br><span class="line">          &quot;indexName&quot;: &quot;article&quot;,</span><br><span class="line">          &quot;indexDocId&quot;: &quot;hello_world&quot;,</span><br><span class="line">          &quot;contentId&quot;: &quot;Qmd6VkHiLbLPncVQiewQe3SBP8rrG96HTkYkLbMzMe6tP2&quot;,</span><br><span class="line">          &quot;contentType&quot;: &quot;text&#x2F;markdown&quot;,</span><br><span class="line">          &quot;pinned&quot;: true,</span><br><span class="line">          &quot;indexFields&quot;: &#123;</span><br><span class="line">            &quot;author&quot;: &quot;Gregoire Jeanmart&quot;,</span><br><span class="line">            &quot;votes&quot;: 10,</span><br><span class="line">            &quot;title&quot;: &quot;Hello world&quot;,</span><br><span class="line">            &quot;createAt&quot;: 1518700549,</span><br><span class="line">            &quot;tags&quot;: [&quot;general&quot;]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;totalElements&quot;: 1,</span><br><span class="line">    &quot;totalPages&quot;: 1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/blog/">Blog</a></li>
         
          <li><a href="/guides/">Guides</a></li>
         
          <li><a href="/about/">About me</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Features"><span class="toc-number">1.</span> <span class="toc-text">Features</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Getting-Started"><span class="toc-number">2.</span> <span class="toc-text">Getting Started</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Prerequisites"><span class="toc-number">2.0.1.</span> <span class="toc-text">Prerequisites</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-library"><span class="toc-number">3.</span> <span class="toc-text">Java library</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Data"><span class="toc-number">4.</span> <span class="toc-text">Spring-Data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-API-with-Docker"><span class="toc-number">5.</span> <span class="toc-text">HTTP API with Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Prerequisites-1"><span class="toc-number">5.1.</span> <span class="toc-text">Prerequisites</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Docker"><span class="toc-number">5.2.</span> <span class="toc-text">Docker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Docker-Compose"><span class="toc-number">5.3.</span> <span class="toc-text">Docker Compose</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Examples"><span class="toc-number">5.4.</span> <span class="toc-text">Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Create-the-index-article"><span class="toc-number">5.4.1.</span> <span class="toc-text">Create the index article</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Store-and-index-an-article-and-its-metadata"><span class="toc-number">5.4.2.</span> <span class="toc-text">Store and index an article and its metadata</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Search-by-query"><span class="toc-number">5.4.3.</span> <span class="toc-text">Search by query</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&text=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&is_video=false&description=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Getting started with Mahuta - A Search engine for the IPFS&body=Check out this article: https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&title=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&name=Getting started with Mahuta - A Search engine for the IPFS&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://greg.jeanmart.me/2019/12/10/getting-started-with-mahuta-a-search-engine-for-t/&t=Getting started with Mahuta - A Search engine for the IPFS"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2019-2025
    Greg Jeanmart
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/blog/">Blog</a></li>
        
          <li><a href="/guides/">Guides</a></li>
        
          <li><a href="/about/">About me</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5XMQMBKWMY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-5XMQMBKWMY');
    </script>

<!-- Baidu Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
